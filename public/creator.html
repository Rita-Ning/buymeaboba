<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<link rel="apple-touch-icon" sizes="76x76" href="./assets/img/favicon.ico">
<link rel="icon" type="image/png" href="./assets/img/favicon.ico">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<title>buymeboba</title>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport'/>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<!-- Google Font -->
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700|Source+Sans+Pro:400,600,700" rel="stylesheet">
<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<!-- Main CSS -->
<link href="/css/creator.css" rel="stylesheet"/>


</head>
<body class="p-0">
<!--------------------------------------
NAVBAR
--------------------------------------->
<nav class="topnav navbar navbar-expand-lg navbar-light bg-white">
<div class="container">
	<a class="logo" href="/index.html">
      <img src="/images/logo.jpeg" height="50" />
  </a>
	<button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
	<span class="navbar-toggler-icon"></span>
	</button>
	<div class="navbar-collapse collapse" id="navbarColor02">
		<ul class="navbar-nav mr-auto d-flex align-items-center">
			<li class="nav-item" id="edit-page">
				<a class="nav-link" href="#">Edit Page</a>
			</li>
			<li class="nav-item pr-3" id="feat-follow">
				<button type="button" href="#" class="btn btn-sm btn-outline-warning rounded-pill" style="height:35px" onclick="follow()">Follow</button>
			</li>
			<li class="nav-item pr-3" id="feat-unfollow">
				<button type="button" href="#" class="btn btn-sm btn-outline-warning rounded-pill text-center" style="height:35px;" onclick="unfollow()">Following</button>
			</li>
			<li class="nav-item dropdown" id="my-profile">
				<a class="nav-link dropdown-toggle highlight rounded pt-1 pb-1 pl-2 pr-2 text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">My Profile</a>
				<div class="dropdown-menu" id="drop-list">
					<a class="dropdown-item" href="/" id="my-page">View My Page</a>
					<a class="dropdown-item" href="/profile-home.html">My Profile</a>
					<div class="dropdown-divider"></div>
					<a class="dropdown-item" href="/" onclick="logOut()">Log Out</a>
				</div>
			</li>
		</ul>
	</div>
</div>
</nav>
<!-- End Navbar -->
    
    
<!--------------------------------------
HEADER
--------------------------------------->
<div class="container">
	<div class="jumbotron jumbotron-fluid mb-3 pt-3 pb-3 position-relative rounded">
		<div class="pl-4 pr-0 h-10 tofront">
			<div class="row">
				<div class="align-self-center" style="background-size:cover" id="profile-pic">
					<!-- <img src="/images/Rita Tang.png" class = "rounded-circle" height="110" pt-1/> -->
				</div>
				<div class="col-md-5 pt-3 pb-3 align-self-center" id="self-intro">
					<!-- <h4 class="secondfont mb-1 font-weight-bold">Creator Name</h4>
					<p class="mb-3 pl-1">Creator of Buy Me Boba</p>	
					<small class="text-muted pl-1">101 followers</small>		 -->
				</div>
			</div>
		</div>
	</div>
</div>
<!-- End Header -->
    
    
<!--------------------------------------
MAIN
--------------------------------------->
    
<div class="container pt-4 pb-4" style="height:300px" >
	<div class="row">
		<div class="leftcolumn">
		<div class="col-lg-9">
			<div class="card border-0 mb-4 box-shadow h-xl-300">            
				<div class="card-body px-0 pb-0 pt-0 pl-1 d-flex flex-column align-items-start">
					<h2 class="h4 font-weight-bold">About Me</h2>
					<div id ='about'>
					</div>
				</div>
			</div>
		</div>
		</div>
		<div class="rightcolumn">
			<div class="col-lg-11">
				<div class="flex-md-row mb-4 box-shadow h-xl-300">
					<h5 class="font-weight-bold spanborder mb-3"><span>Buy Me Boba</span></h5>
					<div class="mb-2 border border-warning boba-div" style="height:64px ;width:290px">
						<div class="pl-5 pr-5 d-flex row justify-content-around align-items-center">
							<div class=""><span class="emoji">ðŸ§‹</span></div>
							<div class=""><span>x</span></div>
							<div id= "amountOne">
								<button class="rounded-circle bg-warning border-warning text-white text-center mb-0" style="height:35px ;width:35px" onclick="setOne()">1</button>
							</div>
							<div id="bobaAmount">
								<input type='text' class="bg-white border-warning text-center mb-0 amount" style="width:35px" oninput="bobaCount(event)" value="1" >
							</div>
						</div>
					</div>
						<textarea style="width:290px" class="form-control bg-light" id="exampleFormControlTextarea1" rows="3" placeholder="say something nice...(optional)"></textarea>
						<button href="#myModal" class="btn btn-dark mt-3 mb-3 support-btn display-6 trigger-btn" data-toggle="modal" style="width:290px" id="supportBtn">
							Support  &nbsp NT$ <span id="supportAmount">80</span>
						</button> 
				</div>
				</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade">
	<div class="modal-dialog modal-login modal-dialog-centered">
		<div class="modal-content pl-2 pr-2 pb-0">
			<div class="modal-header mb-2" id="profile-basic">
				<div class="avatar">
					<!-- <img src="/examples/images/avatar.png" alt="Avatar"> -->
				</div>
				<div id="support-line">				
					<h4 class="modal-title">Support</h4>	
					<button type="button" class="close mr-1 pr-1" data-dismiss="modal" aria-hidden="true">&times;</button>
				</div>
			</div>
			<div class="modal-body">
				<form action="#" method="post" id="support-form">
					<!-- credit card form -->
					<div id="card-form">		
						<div class="form-group notMember">
							<input type="text" class="form-control" id="username" placeholder="name" style="height:40px">		
						</div>
						<div class="form-group notMember">
							<input type="text" class="form-control" id="email" placeholder="Email" style="height:40px" required="required">	
						</div> 
						<div class="form-group card-number-group bg-light" style="height:40px" required="required">
								<div class="form-control card-number" style="height:40px" required="required" placeholder="Card Number"></div>
						</div>
						<div class="form-group expiration-date-group bg-light" >
								<div class="form-control expiration-date" id="tappay-expiration-date" style="height:40px" required="required"></div>
						</div>
						<div class="form-group cvc-group bg-light">
								<div class="form-control cvc" style="height:40px" required="required" placeholder="Card Number"></div>
						</div>      
						<div class="form-group">
							<button type="submit" class="btn btn-dark btn-lg btn-block login-btn payBtn" id="payBtn">pay with card</button>
						</div>
					</div>

					<!-- thank you form -->
					

					<!--card selection form -->
					<div id="card-choose">
						<div class="hrdivider mb-2">PAY WITH</div>	
						<div class="form-group">
							<button type="button" class="btn btn-dark btn-lg btn-block login-btn payBtn" onclick="formChange()">pay with card</button>
						</div>
						<div class="form-group">
							<button type="button" class="btn btn-dark btn-lg btn-block login-btn payBtn">line pay</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>  


<div class="container mt-6">
	<div class="row justify-content-between">
		<div class="leftcolumn" id="leftColumn">
			<div class="col-md-11 pl-3">
				<h5 class="font-weight-bold spanborder"><span>All Stories</span></h5>
				<div id="article">
					<!-- creator.js -->
				</div>
			</div>
		</div>


		<div class="rightcolumn">
		<div class="col-md-11 pl-3">
            <h5 class="font-weight-bold spanborder"><span>Popular</span></h5>
			<ol class="list-featured" id="pop-article">
				<!-- creator.js -->
			</ol>
		</div>
	</div>
</div>
</div>
    
<!--------------------------------------
FOOTER
--------------------------------------->
<div class="container mt-5">
	<footer class="bg-white border-top p-3 text-muted small">
	</footer>
</div>
<!-- End Footer -->
    
<!--------------------------------------
JAVASCRIPTS
--------------------------------------->
<!-- <script src="./assets/js/vendor/jquery.min.js" type="text/javascript"></script>
<script src="./assets/js/vendor/popper.min.js" type="text/javascript"></script>
<script src="./assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
<script>
  jQuery( document ).ready(function() {

  $(window).scroll(function(){
  $('.topnav').toggleClass('scrollednav py-0', $(this).scrollTop() > 50);
  });

  });
</script> -->
<script>
	function logOut(){
		localStorage.clear()
	}
	// change view my page href
	let myPage = localStorage.getItem('page_name')
	document.getElementById('my-page').href=`/creator/${myPage}`

	let setCount = document.getElementById("bobaAmount")
	let oneBtn = document.getElementById("amountOne")
	oneBtn.addEventListener('click',function(){
		setCount.innerHTML = `<input class="bg-white border-warning text-center mb-0 amount" style="width:35px"  oninput="bobaCount(event)" value=1 >`
		document.getElementById('supportAmount').innerHTML = 80
		oneBtn.innerHTML =
			`<button class="rounded-circle bg-warning border-warning text-white text-center mb-0" style="height:35px ;width:35px">1</button>`
	})

	function bobaCount(e){ 
		let count = e.target.value
		let supportBtn = document.getElementById("supportBtn")
		if(!e.target.value || e.target.value == '0'){
			supportBtn.disabled = true;
		}else{
			supportBtn.disabled = false;
		}
		if(e.target.value !== '1'){
			document.getElementById('amountOne').innerHTML =
			`<button class="rounded-circle bg-white border-warning text-center mb-0" style="height:35px ;width:35px">1</button>`
		}else{
			document.getElementById('amountOne').innerHTML =
			`<button class="rounded-circle bg-warning border-warning text-white text-center mb-0" style="height:35px ;width:35px">1</button>`
		}
		document.getElementById('supportAmount').innerHTML = count * 80
	}
	
	supportBtn.addEventListener('click',function(){
		let supportMoney = parseInt(document.getElementById('supportAmount').innerHTML)
		localStorage.setItem('support_amount', supportMoney)
	})

	let payBtn = document.getElementById("payBtn")
	payBtn.addEventListener('click',function(){
		if(!localStorage.getItem('user_info')){
			let user_name = document.getElementById('username').value
			let user_email = document.getElementById('email').value
			let supporterInfo = {user_name, user_email}
			localStorage.setItem('supporter_info',JSON.stringify(supporterInfo))
		}
	})
	
	function formChange(){
		document.getElementById("card-form").style.display = "block";
		document.getElementById("card-choose").style.display = "none";
	}

	function recoverForm(){
		document.getElementById("card-form").style.display = "none";
		document.getElementById("card-choose").style.display = "block";
	}

	let userId = localStorage.getItem('user_info')
	let inputColumn = document.getElementsByClassName('notMember')
	if(userId){
		Array.from(document.getElementsByClassName('notMember')).forEach(
    function(element) {
			element.style.display = 'none';
		});
	}


</script>
<!--for tap pay-->

<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://js.tappaysdk.com/tpdirect/v5.8.0"></script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/webscript/creator.js"></script>
</body>
</html>